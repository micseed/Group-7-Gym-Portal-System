<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <title>Coach Dashboard</title>
    <!-- ======= Styles ====== -->
    <style>
            /* =============== Globals ============== */
 * {
    font-family: "Ubuntu", sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    }

    :root {
    --blue: #203A93;
    --white: #fff;
    --gray: #f5f5f5;
    --black1: #222;
    --black2: #999;
    }

    body {
    min-height: 100vh;
    overflow-x: hidden; /* Keep hidden to prevent body scroll */
    }

    .container {
    position: relative;
    width: 100%;
    }

    /* =============== Navigation ================ */
    .navigation {
    position: fixed;
    width: 300px;
    height: 100%;
    background: var(--blue);
    border-left: 10px solid var(--blue);
    transition: 0.5s ease-in-out; /* Smoother transition */
    overflow: hidden;
    z-index: 100; /* Ensure sidebar is above main content */
    }
    .navigation.active {
    width: 80px;
    }

    .navigation ul {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    padding-left: 0; /* Override default ul padding */
    }

    .navigation ul li {
    position: relative;
    width: 100%;
    list-style: none;
    border-top-left-radius: 30px;
    border-bottom-left-radius: 30px;
    }

    .navigation ul li:hover,
    .navigation ul li.hovered {
    background-color: var(--white);
    }

    .navigation ul li:nth-child(1) {
    margin-bottom: 40px;
    pointer-events: none;
    }

    .navigation ul li a {
    position: relative;
    display: block;
    width: 100%;
    display: flex;
    text-decoration: none;
    color: var(--white);
    }
    .navigation ul li:hover a,
    .navigation ul li.hovered a {
    color: var(--blue);
    }

    .navigation ul li a .icon {
    position: relative;
    display: block;
    min-width: 60px;
    height: 60px;
    line-height: 75px;
    text-align: center;
    }
    .navigation ul li a .icon ion-icon {
    font-size: 1.75rem;
    vertical-align: middle; /* Better alignment */
    }

    .navigation ul li a .title {
    position: relative;
    display: block;
    padding: 0 10px;
    height: 60px;
    line-height: 60px;
    text-align: start;
    white-space: nowrap;
    }

    /* --------- curve outside ---------- */
    .navigation ul li:hover a::before,
    .navigation ul li.hovered a::before {
    content: "";
    position: absolute;
    right: 0;
    top: -50px;
    width: 50px;
    height: 50px;
    background-color: transparent;
    border-radius: 50%;
    box-shadow: 35px 35px 0 10px var(--white);
    pointer-events: none;
    }
    .navigation ul li:hover a::after,
    .navigation ul li.hovered a::after {
    content: "";
    position: absolute;
    right: 0;
    bottom: -50px;
    width: 50px;
    height: 50px;
    background-color: transparent;
    border-radius: 50%;
    box-shadow: 35px -35px 0 10px var(--white);
    pointer-events: none;
    }

    /* ===================== Main ===================== */
    .main {
    position: absolute;
    width: calc(100% - 300px);
    left: 300px;
    min-height: 100vh;
    background: var(--white);
    transition: 0.5s ease-in-out; /* Smoother transition */
    }
    .main.active {
    width: calc(100% - 80px);
    left: 80px;
    }

    .topbar {
    width: 100%;
    height: 60px;
    display: flex;
    align-items: center;
    padding: 0 10px;
    justify-content:space-between;
    position: relative; /* Needed for absolute positioned children like dropdowns */
    background: var(--white); /* Ensure topbar has background */
    z-index: 50; /* Ensure topbar is above main content but below sidebar */
    }

    .toggle {
    position: relative;
    /* Removed width/height fixed values to allow flex */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2.5rem;
    cursor: pointer;
    color: var(--black1); /* Ensure toggle is visible */
    padding: 0 15px; /* Add some padding */
    }

    /* =============== Search Icon ================ */
    .search-container {
    position: relative;
    /* width: 800px; Removed fixed width */
    flex-grow: 1; /* Allow search to take available space */
    max-width: 600px; /* Limit max width */
    margin: 0 10px;
    }

    .search-container label {
    display: flex;
    align-items: center;
    width: 100%;
    border: 1px solid #ccc;
    border-radius: 15px;
    overflow: hidden;
    background-color: var(--white); /* Ensure background */
    }

    #search-input {
    flex-grow: 1;
    padding: 8px 12px; /* Adjusted padding */
    border: none;
    outline: none;
    font-size: 1em; /* Relative font size */
    box-sizing: border-box;
    background: transparent; /* Inherit background */
    }

    .search-container label ion-icon {
    padding: 0 10px; /* Adjusted padding */
    font-size: 1.25rem; /* Adjusted size */
    color: #777;
    }

    #search-results {
    position: absolute;
    top: calc(100% + 5px); /* Increased spacing */
    left: 0;
    right: 0;
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 8px;
    margin-top: 2px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    z-index: 10; /* Ensure results are above search input */
    display: none;
    overflow-y: auto; /* Allow scrolling if results overflow */
    max-height: 300px; /* Limit height */
    }

    #search-results ul {
    list-style: none;
    padding: 8px 0;
    margin: 0;
    }

    #search-results li {
    padding: 10px 16px; /* Adjusted padding */
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-size: 0.95em; /* Adjusted size */
    color: #333;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    }

    #search-results li:hover {
    background-color: #f5f5f5;
    color: #222;
    }

    #search-results li:active {
    background-color: #eee;
    }


    #search-results li span.highlight {
    font-weight: bold;
    color: #007bff;
    }

    /* =============== Right side Icons (Mail, Notification, User) ================ */
    .topbar-right-icons {
        display: flex;
        align-items: center;
        gap: 20px; /* Spacing between icons */
    }

    .mail-container,
    .notification-container {
        position: relative;
        display: inline-block;
    }

    #mail-icon-inbox,
    #notification-icon {
        font-size: 1.8rem; /* Slightly larger icons */
        color: var(--blue);
        cursor: pointer;
        display: block; /* Ensure block display for positioning */
    }

    #mail-icon-inbox:hover,
    #notification-icon:hover {
        opacity: 0.8;
    }

    #unread-notification,
    #notification-badge {
        position: absolute;
        top: -5px; /* Adjust position */
        right: -8px; /* Adjust position */
        background-color: red; /* Keep red for mail */
        color: white;
        font-size: 11px; /* Smaller font */
        border-radius: 50%;
        width: 16px; /* Smaller badge */
        height: 16px; /* Smaller badge */
        text-align: center;
        line-height: 16px;
        display: none; /* Initially hidden for mail */
        font-weight: bold;
    }
     #notification-badge {
        background-color: orange; /* Orange for notification */
        display: block; /* Initially shown for notification */
    }

    /* Shared Dropdown Styles */
    #inbox-preview,
    #notifications-dropdown {
        position: absolute;
        top: calc(100% + 10px); /* More space */
        right: -10px;
        background-color: #f9f9f9;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15); /* Enhanced shadow */
        width: 280px; /* Slightly wider */
        padding: 15px;
        display: none;
        z-index: 110; /* Ensure dropdowns are above other elements */
        text-align: left;
        max-height: 400px; /* Limit height */
        overflow-y: auto; /* Allow scrolling */
    }

    #inbox-preview strong,
    #notifications-dropdown strong {
        display: block;
        margin-bottom: 10px; /* More space */
        font-size: 1.1em;
        color: var(--black1);
    }

    .email-item,
    .notification-item {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: 5px 0; /* Increased padding */
    }

    .email-item.sender,
    .notification-item.title {
        font-weight: bold;
        color: var(--black1);
    }

    .email-item.subject,
    .notification-item.message {
        color: #555;
        font-size: 0.9em;
    }

    #inbox-preview hr,
    #notifications-dropdown hr {
        margin-top: 10px;
        margin-bottom: 10px;
        border: 0;
        border-top: 1px solid #eee;
    }

    #inbox-preview a,
    #notifications-dropdown a {
        display: block;
        margin-top: 10px;
        font-size: 0.9em; /* Adjusted size */
        text-align: right;
        color: var(--blue); /* Use theme color */
        text-decoration: none;
        font-weight: bold;
    }
     #inbox-preview a:hover,
    #notifications-dropdown a:hover {
        text-decoration: underline;
    }

    /* ======================= User ====================== */
    .user {
    position: relative;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    overflow: hidden;
    cursor: pointer;
    border: 2px solid var(--blue); /* Optional: Add border */
    }

    .user img {
    position: absolute;
    /* justify-items: end; -> not needed here */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    }

     /* ================ Sign out Modal =============== */
    .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.5); /* Darker overlay */
    backdrop-filter: blur(3px); /* Subtle blur */
    justify-content: center;
    align-items: center;
    }

    .modal.show {
    display: flex;
    }

    .modal-content {
    background-color: #fefefe;
    /* margin: 15% auto; -> Replaced by flex centering */
    padding: 25px; /* Adjusted padding */
    border: none; /* Remove border */
    width: 90%; /* Responsive width */
    max-width: 450px; /* Max width */
    border-radius: 10px; /* Softer radius */
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    position: relative;
    }

    .modal-header {
    padding-bottom: 15px; /* Adjusted padding */
    border-bottom: 1px solid #eee;
    margin-bottom: 15px; /* Adjusted margin */
    display: flex; /* Use flex for alignment */
    justify-content: space-between;
    align-items: center;
    }

    .modal-title {
    font-size: 1.4em; /* Adjusted size */
    color: #333;
    font-weight: 600; /* Bolder */
    }

     /* Generic Close Button for Modals */
    .close-button {
        color: #aaa;
        /* float: right; -> Removed for flex alignment */
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
        line-height: 1; /* Ensure proper alignment */
        background: none;
        border: none;
        padding: 0 5px; /* Add touch area */
    }

    .close-button:hover,
    .close-button:focus {
        color: var(--black1);
        text-decoration: none;
    }


    .modal-body {
    font-size: 1.05em; /* Adjusted size */
    color: #555;
    margin-bottom: 25px; /* More space */
    line-height: 1.6; /* Improve readability */
    }

     /* Footer for Sign Out Modal */
    .modal-footer.sign-out-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px; /* Adjusted gap */
    padding-top: 15px; /* Add padding */
    border-top: 1px solid #eee; /* Separator */
    }

    /* General Modal Button Styles */
    .modal-button {
        background-color: var(--blue); /* Default to theme blue */
        color: white;
        border: none;
        padding: 10px 18px; /* Adjusted padding */
        border-radius: 5px; /* Softer radius */
        cursor: pointer;
        font-size: 1em; /* Relative font size */
        transition: background-color 0.3s ease, transform 0.1s ease;
        font-weight: 500;
    }

    .modal-button:hover {
        opacity: 0.9;
    }
     .modal-button:active {
        transform: scale(0.98); /* Click feedback */
    }

    /* Specific Sign Out Buttons */
    .modal-button.yes-button {
    background-color: #dc3545; /* Red for confirmation */
    }

    .modal-button.yes-button:hover {
    background-color: #c82333;
    }

    .modal-button.no-button {
    background-color: #6c757d; /* Gray for cancel */
    }

    .modal-button.no-button:hover {
    background-color: #5a6268;
    }

    /* ======================= Schedule Section ====================== */
    .schedule-container {
    /* max-width: 1260px; Let main content width control this */
    margin: 20px; /* Add margin */
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08); /* Softer shadow */
    padding: 20px;
    overflow: hidden; /* Contain table wrapper */
    }

    /* Wrapper for table to enable scrolling on mobile */
    .schedule-table-wrapper {
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
        margin-top: 15px;
    }

    .schedule-table {
    width: 100%;
    min-width: 600px; /* Minimum width before scrolling starts */
    border-collapse: collapse;
    /* margin-top: 10px; Moved to wrapper */
    /* border-radius: 8px; Apply to wrapper or container */
    /* overflow: hidden; Apply to wrapper */
    background-color: white;
    }

    .schedule-table th, .schedule-table td {
    padding: 12px 15px; /* Adjusted padding */
    text-align: left;
    border-bottom: 1px solid #e8e8e8; /* Lighter border */
    white-space: nowrap; /* Prevent wrapping by default */
    }

    .schedule-table th {
    background-color: var(--blue);
    color: white;
    font-weight: 600; /* Bolder */
    letter-spacing: 0.03em;
    font-size: 0.95em; /* Slightly smaller */
    position: sticky; /* Make header sticky within the wrapper */
    top: 0; /* Stick to the top of the scrollable wrapper */
    z-index: 1; /* Keep above table content */
    }

    /* Removed thead tr border - th already has background */

    .schedule-table tbody tr:nth-child(even) {
    background-color: #f9f9f9; /* Slightly lighter */
    }
     .schedule-table tbody tr:hover {
        background-color: #f0f0f0; /* Hover effect */
    }

    .status-available {
    color: #28a745; /* Green */
    font-weight: bold;
    }

    .status-unavailable {
    color: #dc3545; /* Red */
    font-weight: bold;
    }

    /* Action Buttons within Table */
    .action-button {
    padding: 8px 12px; /* Smaller padding */
    border: none;
    border-radius: 5px; /* Softer radius */
    color: white;
    cursor: pointer;
    font-size: 0.9em; /* Smaller font */
    margin-right: 5px; /* Smaller margin */
    transition: background-color 0.3s ease, transform 0.1s ease;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    display: inline-flex; /* Use inline-flex for icon alignment */
    align-items: center;
    gap: 5px;
    vertical-align: middle; /* Align nicely with text */
    }
    .action-button:hover {
        opacity: 0.9;
    }
    .action-button:active {
        transform: scale(0.98);
    }

    .unavailable-button {
    background-color: #ffc107; /* Warning yellow */
    color: var(--black1); /* Dark text for contrast */
    }

    .unavailable-button:hover {
    background-color: #e0a800;
    }

    /* ================ Unavailability Modal Styles ================== */
    #unavailabilityModal {
        /* Uses general .modal styles */
    }

    #unavailabilityModal .modal-content {
        /* Uses general .modal-content styles */
        max-width: 550px; /* Specific max-width */
    }

    #unavailabilityModal .modal-header {
        /* Uses general .modal-header styles */
    }

    #unavailabilityModal .modal-body {
        padding-bottom: 15px; /* Adjusted padding */
    }

    #unavailabilityModal .modal-body label {
        display: block;
        margin-bottom: 8px; /* Smaller margin */
        font-weight: 600; /* Bolder */
        color: #444;
        font-size: 0.95em;
    }

    #unavailabilityModal .modal-body textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 6px;
        box-sizing: border-box;
        margin-bottom: 15px;
        font-size: 1em;
        min-height: 100px; /* Ensure decent height */
        resize: vertical; /* Allow vertical resize */
    }

    #unavailabilityModal .modal-footer {
        padding-top: 15px;
        border-top: 1px solid #e0e0e0;
        text-align: right;
        display: flex; /* Use flex for button spacing */
        justify-content: flex-end;
        gap: 10px;
    }

    #unavailabilityModal .modal-button.submit-button {
        background-color: #28a745; /* Green for submit */
    }
     #unavailabilityModal .modal-button.submit-button:hover {
        background-color: #218838;
    }
     #unavailabilityModal .modal-button.cancel-button {
        background-color: #6c757d; /* Gray for cancel */
    }
      #unavailabilityModal .modal-button.cancel-button:hover {
        background-color: #5a6268;
    }

    /* ================ Feedback Modal Styles ================== */
    #feedbackModal {
        /* Uses general .modal styles */
    }

    #feedbackModal .modal-content {
        /* Uses general .modal-content styles */
        max-width: 400px;
        text-align: center;
    }

    #feedbackModal .modal-header {
        /* Uses general .modal-header styles */
        justify-content: center; /* Center title */
        border-bottom: none; /* Remove border */
        margin-bottom: 10px;
    }
    #feedbackModal .modal-header .close-button {
        position: absolute; /* Position close button */
        top: 10px;
        right: 15px;
    }

    #feedbackModal .modal-title {
        font-size: 1.6em;
        color: #28a745; /* Success green */
        font-weight: bold;
    }

    #feedbackModal .modal-body {
        padding-bottom: 20px;
        font-size: 1.1em;
        color: #333;
    }

    #feedbackModal .modal-footer {
        padding-top: 15px;
        border-top: 1px solid #e0e0e0;
        text-align: center;
    }

    #feedbackModal .modal-button.ok-button {
        background-color: #28a745; /* Green */
    }
    #feedbackModal .modal-button.ok-button:hover {
        background-color: #218838;
    }


/* =================================== */
/* ========== Media Queries ========== */
/* =================================== */

@media (max-width: 991px) {
    /* Tablet and smaller */
    .navigation {
        left: -300px; /* Hide sidebar off-screen */
        border-left: none; /* Remove border when hidden */
        box-shadow: 0 0 15px rgba(0,0,0,0.2); /* Add shadow when open */
    }
    .navigation.active {
        width: 300px; /* Full width when active */
        left: 0; /* Bring sidebar on-screen */
        border-left: 10px solid var(--blue); /* Restore border */
    }
    .main {
        width: 100%;
        left: 0;
    }
    .main.active {
        /* Keep main content full width, sidebar overlays */
         width: 100%;
         left: 0;
        /* Alternatively, shift main content: */
        /* left: 80px; */ /* Adjust if you want main to shift for narrow active sidebar */
        /* width: calc(100% - 80px); */
    }
    .topbar {
        padding: 0 15px; /* Adjust padding */
    }
    .toggle {
         z-index: 101; /* Ensure toggle is above sidebar */
    }
    .search-container {
        max-width: 400px; /* Further reduce search max width */
    }
}


@media (max-width: 768px) {
    /* Mobile devices */
     body {
        font-size: 15px; /* Slightly smaller base font */
    }
    .topbar {
        /* Let elements wrap if needed, though unlikely with current setup */
        /* flex-wrap: wrap; */
        height: auto; /* Allow height to adjust if wrapping occurs */
        padding: 10px 10px; /* Adjust padding */
    }
    .search-container {
        order: 3; /* Move search below toggle and icons potentially */
        width: 100%; /* Make search take full width if wrapping */
        max-width: none;
        margin: 10px 0 0 0; /* Add margin if it wraps */
        display: none; /* Hide the main search bar */
    }
     /* Show only a search icon */
    .search-icon-mobile {
        display: block; /* Show the mobile search icon */
        font-size: 1.8rem;
        color: var(--blue);
        cursor: pointer;
        padding: 0 10px;
        margin-left: auto; /* Push it towards the right */
    }
     .topbar-right-icons {
        margin-left: auto; /* Push icons to the right, next to toggle */
        gap: 15px;
     }
     .toggle {
        padding: 0 10px 0 0; /* Adjust toggle padding */
     }


    #search-results {
        /* Adjust positioning if search is toggled differently */
        width: calc(100% - 20px); /* Adjust width */
        left: 10px; /* Center it */
        right: 10px;
        top: 65px; /* Position below topbar */
    }
    #inbox-preview,
    #notifications-dropdown {
        width: calc(100vw - 30px); /* Make dropdowns almost full width */
        max-width: 300px; /* But cap the width */
        right: 5px; /* Align to the right edge */
        top: calc(100% + 5px); /* Closer to icon */
    }

    .schedule-container {
        margin: 10px;
        padding: 15px;
    }
     .schedule-table-wrapper {
        margin-top: 10px;
    }
    .schedule-table th, .schedule-table td {
        padding: 10px 8px; /* Reduce padding further */
        font-size: 0.9em; /* Smaller font in table */
    }
     .action-button {
        padding: 6px 10px;
        font-size: 0.85em;
    }

    .modal-content {
        width: 90%;
        padding: 20px;
        margin-top: 50px; /* Adjust top margin for modals */
        margin-bottom: 50px;
    }
     .modal-title {
        font-size: 1.2em;
    }
     .modal-body {
        font-size: 1em;
    }
     .modal-button {
        padding: 8px 15px;
        font-size: 0.95em;
    }
     #feedbackModal .modal-content {
         max-width: 90%;
     }
}

@media (max-width: 480px) {
    /* Very small devices */
    .navigation {
         /* Keep settings from 991px */
        width: 280px; /* Slightly narrower sidebar when open */
    }
    .navigation.active {
        width: 280px;
    }
     .navigation ul li a .icon {
        min-width: 50px; /* Smaller icon area */
        height: 50px;
        line-height: 65px;
    }
     .navigation ul li a .icon ion-icon {
        font-size: 1.5rem;
    }
     .navigation ul li a .title {
        height: 50px;
        line-height: 50px;
    }
    /* Curve adjustments if needed for smaller sidebar elements */
    .navigation ul li:hover a::before,
    .navigation ul li.hovered a::before {
        width: 40px; height: 40px; top: -40px; box-shadow: 30px 30px 0 10px var(--white);
    }
    .navigation ul li:hover a::after,
    .navigation ul li.hovered a::after {
         width: 40px; height: 40px; bottom: -40px; box-shadow: 30px -30px 0 10px var(--white);
    }


    .topbar-right-icons {
        gap: 12px; /* Closer icons */
    }
    #mail-icon-inbox,
    #notification-icon {
        font-size: 1.6rem; /* Slightly smaller icons */
    }
    .user {
        width: 35px;
        height: 35px;
    }
     #unread-notification,
    #notification-badge {
        width: 14px;
        height: 14px;
        line-height: 14px;
        font-size: 10px;
        top: -4px;
        right: -6px;
    }

    .schedule-table {
        min-width: 500px; /* Reduce min-width slightly */
    }
     .schedule-table th, .schedule-table td {
        font-size: 0.85em; /* Even smaller font */
    }
     .modal-content {
        padding: 15px;
     }
     .modal-footer {
        flex-direction: column; /* Stack buttons vertically */
        gap: 10px;
        align-items: stretch; /* Make buttons full width */
     }
      .modal-footer.sign-out-actions {
        flex-direction: row; /* Keep sign out horizontal */
        gap: 10px;
        align-items: center; /* Re-center */
      }
     .modal-button {
        width: 100%; /* Full width for stacked buttons */
        margin-left: 0; /* Remove left margin */
     }
     .modal-footer.sign-out-actions .modal-button {
         width: auto; /* Auto width for side-by-side buttons */
     }

}


/* Add this if you hide the search bar on mobile and want an icon */
.search-icon-mobile {
    display: none; /* Hidden by default */
}

/* Add this HTML element inside your .topbar, perhaps next to the .toggle or within .topbar-right-icons */
/* <ion-icon name="search-outline" class="search-icon-mobile"></ion-icon> */

/* Add this HTML wrapper around your schedule table */
/* <div class="schedule-table-wrapper">
       <table class="schedule-table">...</table>
   </div>
*/

/* Add this HTML element (or similar) to your modal headers for a close button */
/* <button type="button" class="close-button" aria-label="Close">×</button> */
/* Remember to add JavaScript to make the close button work */

</style>
</head>

<body>
  <div class="container">
    <div class="navigation">
        <ul>
            <li>
                <a href="#">
                    <span class="icon">
                        <ion-icon name="barbell"></ion-icon>
                    </span>
                    <span class="title">ENERGIZE</span>
                </a>
            </li>

            <li>
                <a href="coachmain.html">
                    <span class="icon">
                        <ion-icon name="home-outline"></ion-icon>
                    </span>
                    <span class="title">Dashboard</span>
                </a>
            </li>

            <li>
                <a href="coachclient.html">
                    <span class="icon">
                        <ion-icon name="people-outline"></ion-icon>
                    </span>
                    <span class="title">Clients</span>
                </a>
            </li>

            <li>
                <a href="coachmessages.html">
                    <span class="icon">
                        <ion-icon name="chatbubble-outline"></ion-icon>
                    </span>
                    <span class="title">Messages</span>
                </a>
            </li>

            <li>
                <a href="coachschedule.html">
                    <span class="icon">
                        <ion-icon name="calendar-outline"></ion-icon>
                    </span>
                    <span class="title">Your Schedule</span>
                </a>
            </li>

            <li>
                <a href="coachsettings.html">
                    <span class="icon">
                        <ion-icon name="settings-outline"></ion-icon>
                    </span>
                    <span class="title">Settings</span>
                </a>
            </li>

            <li>
                <a href="#">
                    <span class="icon">
                        <ion-icon name="log-out-outline"></ion-icon>
                    </span>
                    <span class="title">Sign Out</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="main">
        <div class="topbar">
            <div class="toggle">
                <ion-icon name="menu-outline"></ion-icon>
            </div>

            <div class="search-container">
                <label>
                    <input type="text" id="search-input" placeholder="Search what you're looking for">
                    <ion-icon name="search-outline"></ion-icon>
                </label>
                <div id="search-results">
                </div>
            </div>

            <div class="mail-container">
                <ion-icon name="mail" id="mail-icon-inbox"></ion-icon>
                <div id="unread-notification">1</div>
                <div id="inbox-preview">
                    <strong>Inbox</strong>
                    <hr>
                    <div id="unread-messages">
                        <div class="email-item sender">Coach</div>
                        <div class="email-item subject">Can you help me?</div>
                        <hr>
                    </div>
                    <div id="read-messages">
                        <div class="email-item sender">Client 1</div>
                        <div class="email-item subject">Previous message...</div>
                    </div>
                    <a href="#">See All</a>
                </div>
            </div>

            <div class="notification-container">
                <ion-icon name="notifications" id="notification-icon"></ion-icon>
                <div id="notification-badge">1</div>
                <div id="notifications-dropdown">
                    <strong>Notifications</strong>
                    <hr>
                    <div id="notification-list">
                        <div class="notification-item title">Today, 5:00 PM</div>
                        <div class="notification-item message">You have a session scheduled.</div>
                        <hr>
                        <div class="notification-item title">New Request</div>
                        <div class="notification-item message">Johnston has requested a session with you.</div>
                    </div>
                    <a href="#">See All</a>
                </div>
            </div>

            <div class="name">
                <p>Edward Linkin</p>
            </div>

            <div class="user">
                <img src="customer01.jpg" alt="">
            </div>
        </div>

            <div id="signOutModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 class="modal-title">Sign Out</h2>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to sign out?</p>
                    </div>
                    <div class="modal-footer sign-out-actions">
                        <button class="modal-button no-button" id="signOutNo">No</button>
                        <button class="modal-button yes-button" id="signOutYes">Yes</button>
                    </div>
                </div>
            </div>
            
            <div class="schedule-container">
                <table class="schedule-table" id="myScheduleTable">
                    <thead>
                        <tr>
                            <th>Clients</th>
                            <th>Fitness Goals</th>
                            <th>Scheduled Time</th>
                            <th>Your Availability</th>
                            <th style="text-align: end; padding-right: 50px;" >Your Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        </tbody>
                </table>
            </div>
        
            <div id="reasonModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <span class="close-button" id="closeReasonModal">&times;</span>
                        <h2>Emergency Unavailability Reason</h2>
                    </div>
                    <div class="modal-body">
                        <label for="emergencyReason">Please provide your reason:</label>
                        <textarea id="emergencyReason" rows="4"></textarea>
                    </div>
                    <div class="modal-footer">
                        <button class="modal-button" id="submitReason">Submit Reason</button>
                    </div>
                </div>
            </div>
        
            <div id="feedbackModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 class="modal-title">Success</h2>
                    </div>
                    <div class="modal-body">
                        <p>Your emergency reason has been sent to the client's interface.</p>
                    </div>
                    <div class="modal-footer">
                        <button class="modal-button" id="closeFeedbackModal">Okay</button>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>



                <script>
                let list = document.querySelectorAll(".navigation li");
    
                function activeLink() {
                list.forEach((item) => {
                    item.classList.remove("hovered");
                });
                this.classList.add("hovered");
                }
    
                list.forEach((item) => item.addEventListener("click", activeLink));
    
                // Menu Toggle (remains the same)
                let toggle = document.querySelector(".toggle");
                let navigation = document.querySelector(".navigation");
                let main = document.querySelector(".main");
    
                toggle.onclick = function () {
                navigation.classList.toggle("active");
                main.classList.toggle("active");
                };
    
                //Search Function
                const searchInput = document.getElementById('search-input');
                const searchResultsDiv = document.getElementById('search-results');
    
                const searchData = [
                "Total Sales",
                "Total Clients",
                "Settings",
                "Total Coaches",
                "Payments",
                "Recent Complaints",
                "Admin Dashboard",
                "Updates",
                "Database Updates",
                "Added Admins"
                ];
    
                searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const filteredResults = searchData.filter(item =>
                    item.toLowerCase().includes(searchTerm)
                );
    
                displayResults(filteredResults);
                });
    
                function displayResults(results) {
                searchResultsDiv.innerHTML = '';
    
                if (results.length > 0 && searchInput.value.trim() !== '') {
                    const ul = document.createElement('ul');
                    results.forEach(result => {
                    const li = document.createElement('li');
                    li.textContent = result;
                    li.addEventListener('click', function() {
                        searchInput.value = this.textContent;
                        searchResultsDiv.style.display = 'none'; 
                    });
                    ul.appendChild(li);
                    });
                    searchResultsDiv.appendChild(ul);
                    searchResultsDiv.style.display = 'block'; 
                } else {
                    searchResultsDiv.style.display = 'none';
                }
                }
    
                document.addEventListener('click', function(event) {
                if (!event.target.closest('.search-container')) {
                    searchResultsDiv.style.display = 'none';
                }
                });
    
                //Mail Function
                const mailIconInbox = document.getElementById('mail-icon-inbox');
                const unreadNotification = document.getElementById('unread-notification');
                const inboxPreview = document.getElementById('inbox-preview');
                let hasUnread = true; 
    
                function updateUnreadIndicator() {
                unreadNotification.style.display = hasUnread ? 'block' : 'none';
                }
    
                updateUnreadIndicator();
    
                mailIconInbox.addEventListener('click', function() {
                inboxPreview.style.display = (inboxPreview.style.display === 'block' ? 'none' : 'block');
    
                if (hasUnread && inboxPreview.style.display === 'block') {
                    hasUnread = false;
                    updateUnreadIndicator();
                ad
                    console.log('Mail icon clicked - marking as read');
                }
                });
    
    
                document.addEventListener('click', function(event) {
                if (!event.target.closest('.mail-container')) {
                    inboxPreview.style.display = 'none';
                }
                });
    
    
                //Notification Function
                const notificationIcon = document.getElementById('notification-icon');
                const notificationBadge = document.getElementById('notification-badge');
                const notificationsDropdown = document.getElementById('notifications-dropdown');
    
                notificationIcon.addEventListener('click', function() {
                notificationsDropdown.style.display = (notificationsDropdown.style.display === 'block' ? 'none' : 'block');
                
                notificationBadge.style.display = 'none';
                });
    
    
                document.addEventListener('click', function(event) {
                if (!event.target.closest('.notification-container')) {
                    notificationsDropdown.style.display = 'none';
                }
                });

                 //Sign out
                 document.addEventListener('DOMContentLoaded', function() {
                    const signOutLink = document.querySelector('.navigation ul li:last-child a');
                    const signOutModal = document.getElementById('signOutModal');
                    const signOutYesButton = document.getElementById('signOutYes');
                    const signOutNoButton = document.getElementById('signOutNo');

                    if (signOutLink) {
                    signOutLink.addEventListener('click', function(event) {
                        event.preventDefault();
                        showModal(signOutModal);
                    });
                    } else {
                    console.error("Sign Out link not found!");
                    }

                    signOutYesButton.addEventListener('click', function() {
                    window.location.href = 'index.html';
                    });

                    signOutNoButton.addEventListener('click', function() {
                    hideModal(signOutModal);
                    });

                    window.addEventListener('click', function(event) {
                    if (event.target == signOutModal) {
                        hideModal(signOutModal);
                    }
                    });

                    function showModal(modalElement) {
                    modalElement.classList.add('show');
                    }

                    function hideModal(modalElement) {
                    modalElement.classList.remove('show');
                    }
                });

                //Schedule
                const myScheduleTableBody = document.getElementById('myScheduleTable').getElementsByTagName('tbody')[0];
                const reasonModal = document.getElementById('reasonModal');
                const closeReasonModal = document.getElementById('closeReasonModal');
                const submitReasonButton = document.getElementById('submitReason');
                const emergencyReasonTextarea = document.getElementById('emergencyReason');
                const feedbackModal = document.getElementById('feedbackModal');
                const closeFeedbackModalButton = document.getElementById('closeFeedbackModal');

                let currentScheduleRow = null; 

                        
                const clientScheduleData = [
                    { coachName: "Nina Sakses", goals: "Weight Loss, Cardio", time: "Monday 10:00 AM", coachStatus: "Available", appointmentId: 1 },
                    { coachName: "Pusa Suit", goals: "Strength Training", time: "Tuesday 2:00 PM", coachStatus: "Available", appointmentId: 2 },
                    { coachName: "Katik", goals: "Flexibility, Yoga", time: "Wednesday 11:00 AM", coachStatus: "Available", appointmentId: 3 },
                    { coachName: "Patricia", goals: "Muscle Building", time: "Thursday 4:00 PM", coachStatus: "Available", appointmentId: 4 },
                    { coachName: "Sigma Boy", goals: "Weight Loss", time: "Friday 1:00 PM", coachStatus: "Available", appointmentId: 4 },
                    { coachName: "Bianca", goals: "Endurance Training", time: "Monday 4:30 PM", coachStatus: "Available", appointmentId: 4 },
                    { coachName: "Annabelle", goals: "Flexibility, Yoga", time: "Tuesday 4:00 PM", coachStatus: "Available", appointmentId: 4 },
                    { coachName: "Micah", goals: "Cardio", time: "Thursday 4:00 PM", coachStatus: "Available", appointmentId: 4 },
                    { coachName: "Kimberly", goals: "Full Body", time: "Thursday 10:A0 PM", coachStatus: "Available", appointmentId: 4 },
                    { coachName: "James Benedict", goals: "Endurance Training", time: "Wednesday 3:00 PM", coachStatus: "Available", appointmentId: 4 },
                    { coachName: "Graziella Marife", goals: "Yoga", time: "Thursday 4:00 PM", coachStatus: "Available", appointmentId: 4 }
                ];

                document.addEventListener('DOMContentLoaded', function() {
                    populateMyScheduleTable();
                });

                function populateMyScheduleTable() {
                    clientScheduleData.forEach(schedule => {
                        addRowToMyScheduleTable(schedule);
                    });
                }

                function addRowToMyScheduleTable(schedule) {
                const row = myScheduleTableBody.insertRow();

                const coachCell = row.insertCell();
                coachCell.textContent = schedule.coachName;

                const goalsCell = row.insertCell();
                goalsCell.textContent = schedule.goals;

                const timeCell = row.insertCell();
                timeCell.textContent = schedule.time;

                const statusCell = row.insertCell();
                statusCell.textContent = schedule.coachStatus;
                statusCell.classList.add(schedule.coachStatus.toLowerCase() === 'available' ? 'status-available' : 'status-unavailable');

                const actionsCell = row.insertCell();
                const unavailableButton = document.createElement('button');
                unavailableButton.textContent = "Unavailable";
                unavailableButton.classList.add("unavailable-button");
                unavailableButton.dataset.appointmentId = schedule.appointmentId;
                unavailableButton.addEventListener('click', function() {
                    currentScheduleRow = this.parentNode.parentNode;
                    reasonModal.style.display = "block";
                });
                const unavailableIcon = document.createElement('ion-icon');
                unavailableIcon.setAttribute('name', 'ban-outline');
                unavailableButton.prepend(unavailableIcon); 

                actionsCell.appendChild(unavailableButton);
                                }

                closeReasonModal.addEventListener('click', () => {
                    reasonModal.style.display = "none";
                    emergencyReasonTextarea.value = '';
                    currentScheduleRow = null;
                });

                submitReasonButton.addEventListener('click', () => {
                const reason = emergencyReasonTextarea.value.trim();
                if (reason && currentScheduleRow) {
                    const appointmentId = currentScheduleRow.querySelector('.unavailable-button').dataset.appointmentId;
                    const statusCell = currentScheduleRow.cells[3];
                    statusCell.textContent = "Unavailable (Emergency)";
                    statusCell.classList.remove('status-available');
                    statusCell.classList.add('status-unavailable');

                reasonModal.style.display = "none";
                emergencyReasonTextarea.value = '';
                feedbackModal.style.display = "block"; 

                const actionsCell = currentScheduleRow.cells[4];
                const unavailableButton = actionsCell.querySelector('.unavailable-button');
                if (unavailableButton) {
                    unavailableButton.disabled = true;
                }
                currentScheduleRow = null;

                console.log(`Coach for appointment ${appointmentId} is unavailable due to: ${reason}`);
                } else if (!reason) {
                    alert("Please provide a reason for unavailability.");
                }
            });

                window.addEventListener('click', (event) => {
                    if (event.target === reasonModal) {
                        reasonModal.style.display = "none";
                        emergencyReasonTextarea.value = '';
                        currentScheduleRow = null;
                    }
                    if (event.target === feedbackModal) {
                        feedbackModal.style.display = "none";
                    }
                });

                closeFeedbackModalButton.addEventListener('click', () => {
                    feedbackModal.style.display = "none";
                });
            </script>

<!-- ====== ionicons ======= -->
<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>

</html>